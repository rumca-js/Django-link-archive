{% extends base_generic %}
{% load static %}
{% block content %}

<div class="contentbuttonmenu">
    <a href="javascript:history.back()" class="simplebutton">Go Back</a>

    <a href="{{reset_link}}" class='simplebutton'>
      <img src="{% static 'rsshistory/icons/icons8-start-100.png' %}" class="content-icon" />
      Reset filters</a>
</div>

    {% if rss_are_fetched %}
      <span style="color:red">Sources are fetched. Queue size: {{rss_queue_size}} </span>
    {% endif %}

  <form action="{{filter_form.action_url}}" method="{{filter_form.method}}">
     <table>
     {{ filter_form }}
     <tr>
         <td>
             <input type="submit" value="Search">
         </td>
     </tr>
     </table>
  </form>

  <hr>

  {% if content_list %}
  <div class="linklist container_{{user_config.display_type}}">
    {% for link in content_list %}
    {% if type == "normal" %}
          {% if user_config.display_type == "clickable-tags" %}
              {% include "rsshistory/linkdatacontroller_list__clickable_tags.html" %}
          {% elif user_config.display_type == "line-and-buttons" %}
              {% include "rsshistory/linkdatacontroller_list__line_and_buttons.html" %}
          {% elif user_config.display_type == "youtube-thumbnails" %}
              {% include "rsshistory/linkdatacontroller_list__youtube_thumbnails.html" %}
          {% else %}
              {% include "rsshistory/linkdatacontroller_list__standard.html" %}
          {% endif %}
    {% elif type == "clear" %}
              {% include "rsshistory/linkdatacontroller_list__clean_list.html" %}
    {% endif %}
    {% endfor %}
  </div>

  {% if not page_obj.has_next and has_more_results %}
  <a href="{{ more_results_link }}" class="simplebutton">More results</a>
  {% endif %}

  <hr>
{% include "rsshistory/pagination.html" %}

  {% else %}
    <p>There are no links.</p>
  {% endif %}

  <a href="{% url 'rsshistory:entries-json' %}?query_type={{query_type}}&{{ request.GET.urlencode }}" class='simplebutton'>Show JSON</a>
  <a href="{% url 'rsshistory:entries' %}?query_type={{query_type}}&{{ args }}&type=clear" class='simplebutton'>Show Clear</a>
  <a href="{% url 'rsshistory:entries' %}?query_type={{query_type}}&{{ args }}&type=normal" class='simplebutton'>Show Normal</a>

  {% if search_term %}
     <a href="https://en.wikipedia.org/w/index.php?search={{search_term}}" class="simplebutton">Ask wikipedia</a>
     <a href="https://www.wolframalpha.com/input?i={{search_term}}" class="simplebutton">Ask wolfram alpha</a>
     <a href="https://www.reddit.com/search/?q={{search_term}}" class="simplebutton">Ask Reddit</a>
     <a href="https://www.quora.com/search?q={{search_term}}" class="simplebutton">Ask Quora</a>
     <a href="https://stackoverflow.com/search?q={{search_term}}" class="simplebutton">Ask Stack Overflow</a>
     <a href="https://www.youtube.com/results?search_query={{search_term}}" class="simplebutton">YouTube</a>
     <a href="https://open.spotify.com/search/{{search_term}}" class="simplebutton">Spotify</a>
     <a href="https://chat.openai.com/" class="simplebutton">ChatGPT</a>
  {% endif %}

{% endblock %}

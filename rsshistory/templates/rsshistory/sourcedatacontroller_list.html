{% extends base_generic %}
{% load static %}

{% block content %}

  <a href="{% url 'rsshistory:source-add-simple' %}" class="mainbutton">
      <img src="{% static 'rsshistory/icons/icons8-channel-add-96.png' %}" class="content-icon" />
        Add source</a>
  <a href="{% url 'rsshistory:entry-add-simple' %}" class="mainbutton">
        <img src="{% static 'rsshistory/icons/icons8-add-link-96.png' %}" class="content-icon" />
        Add entry</a>

  <hr>

  <div>
  <a href="{% url 'rsshistory:sources' %}" class='simplebutton'>
      <img src="{% static 'rsshistory/icons/icons8-start-100.png' %}" class="content-icon" />
      Reset filters</a>
  </div>

  <form action="{{filter_form.action_url}}" method="{{filter_form.method}}">
      <table>
          {{ filter_form }}
          <tr>
              <td>
                  <input type="submit" value="Submit">
              </td>
          </tr>
      </table>
  </form>

  <hr>

  {% if source_list %}
     <div class="linklist container_{{user_config.display_type}}">
       {% for source in source_list %}
         <a href="{{ source.get_absolute_url }}"
           class="element_{{user_config.display_type}}"
           title="{{source.title}} {{source.get_full_description}}"
         >
           <div class="linklistitem">
             {% if user_config.show_icons %}
               <img src="{{source.get_favicon}}" class="content-icon"/>
             {% endif %}
             <span class="linklistitemtitle">{{source.title}}</span>
             <span class="linklistitemdescription">
                 {{source.get_full_description}}</span>
           </div>
         </a>
       {% endfor %}
     </div>

     <div class="pagination">
         <span class="step-links">
             {% if page_obj.has_previous %}
                <a href="?page=1{{query_filter.get_filter_string}}" class='simplebutton'>&laquo; first</a>
                <a href="?page={{ page_obj.previous_page_number }}{{query_filter.get_filter_string}}" class='simplebutton'>previous</a>
             {% endif %}

             <span class="current">
                 Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
             </span>

             {% if page_obj.has_next %}
               <a href="?page={{ page_obj.next_page_number }}{{query_filter.get_filter_string}}" class='simplebutton'>next</a>
               <a href="?page={{ page_obj.paginator.num_pages }}{{query_filter.get_filter_string}}" class='simplebutton'>last &raquo;</a>
             {% endif %}
         </span>
     </div>

     <a href="{% url 'rsshistory:sources-json' %}?{{ request.GET.urlencode }}" class='simplebutton'>Show JSON</a>

  {% else %}
    <p>There are no sources.</p>
  {% endif %}

  {% if not request.GET.urlencode %}
  <div class="management-box">
      <h3>Important</h3>
      <a href="https://en.wikipedia.org/w/index.php" class="simplebutton">Wikipedia</a>
      <a href="https://news.ycombinator.com/" class="simplebutton">Hacker News</a>

      <h3>Mainstream</h3>
      <a href="https://www.quora.com/" class="simplebutton">Quora</a>
      <a href="https://stackoverflow.com" class="simplebutton">Stack overflow</a>
      <a href="https://www.reddit.com/" class="simplebutton">Reddit</a>
      <a href="https://medium.com/" class="simplebutton">Medium</a>
      <a href="https://substack.com/" class="simplebutton">Substack</a>

      <h3>Search engines</h3>
      <a href="https://www.duckduckgo.com/" class="simplebutton">DuckDuckGo</a>
      <a href="https://hn.algolia.com/?dateRange=all&page=0&prefix=true&query=tim%20cook&sort=byPopularity&type=story" class="simplebutton">Hacker News search</a>
      <a href="https://www.wolframalpha.com/" class="simplebutton">Wolfram</a>
      <a href="https://chat.openai.com/" class="simplebutton">ChatGPT</a>
      <a href="https://kagi.com/" class="simplebutton">Kagi search</a>

      <h3>Social</h3>
      <a href="https://mastodon.social/explore" class="simplebutton">Mastodon</a>
      <a href="https://join-lemmy.org/instances" class="simplebutton">Lemmy</a>

      <a href="https://www.youtube.com/" class="simplebutton">YouTube</a>
      <a href="https://odysee.com/" class="simplebutton">Odysee</a>
      <a href="https://rumble.com/" class="simplebutton">Rumble</a>
      <a href="https://www.spotify.com/" class="simplebutton">Spotify</a>
  </div>
  {% endif %}

{% endblock %}

{% extends base_generic %}
{% load static %}
{% block content %}

<div class="contentbuttonmenu">
    <a href="javascript:history.back()" class="simplebutton">
        <img src="{% static 'rsshistory/icons/icons8-back-100.png' %}" class="content-icon" />
    </a>
</div>

<h1>
    {% if user_config.show_icons %}
    <img src="{{object.get_favicon}}"/>
    {% endif %}
    {{ object.title }}
</h1>

  <p>
      <div><strong>Url:</strong> <a href="{{ object.url }}">{{ object.url }}</a></div>
    {% if object.is_channel_page_url %}
      <div><strong>Channel:</strong> <a href="{{ object.get_channel_page_url }}">{{ object.get_channel_page_url }}</a></div>
    {% endif %}
      <div><strong>Title:</strong> {{ object.title }}</div>
      <span><strong>On Hold:</strong> {{ object.on_hold }}</span>
      <span><strong>Category:</strong> {{ object.category }}</span>
      <span><strong>Subcategory:</strong> {{ object.subcategory }}, </span>
      <span><strong>Language:</strong> {{ object.language }}, </span>
      <span><strong>Export to CMS:</strong> {{ object.export_to_cms }}, </span>
      <span><strong>Remove after days:</strong> {{ object.remove_after_days }}, </span>
      <span><strong>Favicon:</strong><a href="{{ object.get_favicon }}" title="{{ object.get_favicon }}">Favicon URL</a>, </span>
      <span><strong>Source type:</strong> {{ object.source_type }}</span>
      <div>Fetched:{{object.get_date_fetched}} Number of entries:{{object.get_number_of_entries}} Import seconds:{{object.get_import_seconds}} </div>
  </p>

  {% if user.is_staff %}
    <p>
    <a href="{% url 'rsshistory:source-edit' object.id %}" class="simplebutton" title="Edit source">
        <img src="{% static 'rsshistory/icons/icons8-edit-100.png' %}" class="content-icon" />
    </a>
    <a href="{% url 'rsshistory:source-refresh' object.id %}" class="simplebutton" title="Checks if the source has new data">
        <img src="{% static 'rsshistory/icons/icons8-update-100.png' %}" class="content-icon" />
    </a>
    <a href="{% url 'rsshistory:source-fix-entries' object.id %}" class="simplebutton" title="Fixes entries for source, objects relationships, langauge">Fix entries</a>
    {% if handler.is_youtube %}
        <a href="{% url 'rsshistory:source-import-yt-links' object.id %}" class="simplebutton">Fetch all videos</a>
    {% endif %}
    </p>
  {% endif %}
    <p>
    <a href="{% url 'rsshistory:entries-omni-search' %}?search=source+%3D+{{object.url}}" class="simplebutton">Goto Entries</a>
     <a href="{% url 'rsshistory:domain-by-name' %}?domain_name={{object.get_domain_only}}" class="simplebutton" title="{{object.get_domain_only}}">Domain</a>
  {% if user.is_staff %}
    {% if config.source_archive %}
      <a href="{% url 'rsshistory:source-archive' object.id %}" class="simplebutton">Archive.org save</a>
    {% endif %}
    <a href="{% url 'rsshistory:import-source-ia' object.id %}" class="simplebutton">Import Archive.org</a>
  {% endif %}
    </p>
  {% if user.is_staff %}
    <p>
    <a href="{% url 'rsshistory:source-remove' object.id %}" class="simplebutton" title="Remove source">
        <img src="{% static 'rsshistory/icons/icons8-trash-100.png' %}" class="content-icon" />
    </a>
    <a href="{% url 'rsshistory:source-remove-entries' object.id %}" class="simplebutton">Remove entries</a>
    </p>
    <p>
    <a href="{% url 'rsshistory:source-json' object.id %}" class="simplebutton">Show JSON</a>
    </p>
  {% endif %}
{% endblock %}

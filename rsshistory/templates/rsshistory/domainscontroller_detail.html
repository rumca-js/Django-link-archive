{% extends base_generic %}
{% load static %}
{% block content %}

<div class="contentbuttonmenu">

    {% if user.is_staff %}
    <a href="{% url 'rsshistory:domain-update-data' object.id %}" class="btn btn-secondary" role="button">Update</a>
    <a href="{% url 'rsshistory:domain-edit' object.id %}" class="btn btn-secondary" role="button">Edit</a>
    <a href="{% url 'rsshistory:domain-remove' object.id %}" class="btn btn-secondary" role="button">Remove</a>
    {% endif %}
</div>

<h1>Domain</h1>

{% if object.link_obj.dead %}
This domain is marked as dead!
{% endif %}

<table>
    <tr>
        {% if object.get_link_object %}
	<td>Link</td><td><a href="{{object.get_link_object.get_absolute_url }}">Link information</a></td>
	{% else %}
        <td>Link</td><td><a href="{{object.protocol}}://{{object.domain}}">{{object.domain}}</a></td>
	{% endif %}
    </tr>
    <tr>
        <td>Main</td><td>{{object.main}}</td>
    </tr>
    <tr>
        <td>Subdomain</td><td>{{object.subdomain}}</td>
    </tr>
    <tr>
        <td>Suffix</td><td>{{object.suffix}}</td>
    </tr>
    <tr>
        <td>TLD</td><td>{{object.tld}}</td>
    </tr>
    <tr>
        <td>Category</td><td>{{object.category}}</td>
    </tr>
    <tr>
        <td>SubCategory</td><td>{{object.subcategory}}</td>
    </tr>
    <tr>
        <td>Dead</td><td>{{object.dead}}</td>
    </tr>
    <tr>
        <td>Date created</td><td>{{object.date_created}}</td>
    </tr>
    <tr>
        <td>Date last</td><td>{{object.date_update_last}}</td>
    </tr>
</table>

{% if object.get_link_object %}

<h3><a href="{{object.get_link_object.get_absolute_url }}">Link information</a> </h3>

<table>
    <tr>
        <td>Title</td><td>{{object.get_link_object.title}}</td>
    </tr>
    <tr>
        <td>Description</td><td>{{object.get_link_object.description}}</td>
    </tr>
    <tr>
        <td>Language</td><td>{{object.get_link_object.language}}</td>
    </tr>
    <tr>
        <td>Charset</td><td>{{object.get_link_object.charset}}</td>
    </tr>
    <tr>
        <td>Date published</td><td>{{object.get_link_object.date_published}}</td>
    </tr>
    <tr>
        <td>Bookmarked</td><td>{{object.get_link_object.bookmarked}}</td>
    </tr>
    <tr>
        <td>Permanent</td><td>{{object.get_link_object.permanent}}</td>
    </tr>
    <tr>
        <td>Dead</td><td>{{object.get_link_object.dead}}</td>
    </tr>
    <tr>
        <td>Status</td><td>{{object.get_link_object.status_code}}</td>
    </tr>
    <tr>
        <td>Artist</td><td>{{object.link_obj.artist}}</td>
    </tr>
    <tr>
        <td>Album</td><td>{{object.link_obj.album}}</td>
    </tr>
    <tr>
        <td>Age</td><td>{{object.link_obj.age}}</td>
    </tr>
    <tr>
        <td>Thumbnail</td><td>{{object.link_obj.thumbnail}}</td>
    </tr>
    <tr>
        <td>Page rating</td><td>{{object.link_obj.page_rating}}</td>
    </tr>
</table>

{% include "rsshistory/domain_help_element.html" %}

{% else %}
 No link data
{% endif %}

<a href="{% url 'rsshistory:domain-json' object.id %}" class="btn btn-secondary" role="button">Show JSON</a>

{% endblock %}
